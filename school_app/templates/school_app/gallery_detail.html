{% extends 'school_app/base.html' %}
{% load static %}

{% block title %}{{ gallery.title }}{% endblock %}

{% block content %}
    <!-- Gallery Detail Hero -->
    <section class="hero-section" style="{% if gallery.images.first %}background-image: url('{{ gallery.images.first.image.url }}');{% else %}background-color: #2c3e50;{% endif %}">
        <div class="hero-overlay"></div>
        <div class="hero-content">
            <h1>{{ gallery.title }}</h1>
            <p>{{ gallery.description|truncatewords:10 }}</p>
        </div>
    </section>

    <!-- Gallery Detail Content -->
    <section class="section">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <h2 class="section-title">{{ gallery.title }}</h2>
                    {% if gallery.description %}
                        <p class="mb-4">{{ gallery.description }}</p>
                    {% endif %}

                    <div class="row gallery-images">
                        {% for image in gallery.images.all %}
                            <div class="col-md-4 col-lg-3 mb-4">
                                <div class="gallery-item">
                                    <img src="{{ image.image.url }}" class="img-fluid rounded" alt="{{ image.caption }}">
                                    {% if image.caption %}
                                        <div class="gallery-caption">{{ image.caption }}</div>
                                    {% endif %}
                                </div>
                            </div>
                        {% endfor %}
                    </div>

                    <div class="mt-4">
                        <a href="{% url 'gallery' %}" class="btn btn-primary">Back to Gallery</a>
                    </div>
                </div>
            </div>
        </div>
    </section>
{% endblock %}