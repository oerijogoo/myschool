{% extends 'school_app/base.html' %}
{% load static %}

{% block title %}Admissions - {{ school_settings.school_name }}{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="row mb-5">
        <div class="col-lg-8 mx-auto text-center">
            <h1 class="display-4 mb-3">Admissions</h1>
            <p class="lead">Join Our Community of Learners</p>
        </div>
    </div>

    <!-- Admission Process -->
    <section class="mb-5">
        <div class="row">
            <div class="col-lg-6 mb-4">
                <div class="card h-100 shadow-sm">
                    <div class="card-body">
                        <h2 class="card-title">Admission Process</h2>
                        <p class="card-text">We welcome applications from students who demonstrate academic potential, good character, and a willingness to contribute to our school community.</p>

                        <div class="timeline">
                            <div class="timeline-item">
                                <div class="timeline-icon bg-primary text-white">
                                    <i class="fas fa-file-alt"></i>
                                </div>
                                <div class="timeline-content">
                                    <h5>Application Submission</h5>
                                    <p>Submit completed application form with required documents</p>
                                </div>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-icon bg-success text-white">
                                    <i class="fas fa-calendar-check"></i>
                                </div>
                                <div class="timeline-content">
                                    <h5>Assessment & Interview</h5>
                                    <p>Student assessment and family interview scheduled</p>
                                </div>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-icon bg-info text-white">
                                    <i class="fas fa-envelope-open-text"></i>
                                </div>
                                <div class="timeline-content">
                                    <h5>Admission Decision</h5>
                                    <p>Notification of admission decision within 2 weeks</p>
                                </div>
                            </div>
                            <div class="timeline-item">
                                <div class="timeline-icon bg-warning text-white">
                                    <i class="fas fa-money-bill-wave"></i>
                                </div>
                                <div class="timeline-content">
                                    <h5>Registration & Fee Payment</h5>
                                    <p>Complete registration process and pay required fees</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 mb-4">
                <div class="card h-100 shadow-sm">
                    <div class="card-body">
                        <h2 class="card-title">Requirements</h2>
                        <div class="admission-requirements">
                            <div class="requirement-item">
                                <h5><i class="fas fa-child me-2"></i> Kindergarten</h5>
                                <ul>
                                    <li>Completed application form</li>
                                    <li>Birth certificate</li>
                                    <li>2 passport photos</li>
                                    <li>Medical report</li>
                                </ul>
                            </div>
                            <div class="requirement-item">
                                <h5><i class="fas fa-user-graduate me-2"></i> Primary School</h5>
                                <ul>
                                    <li>Completed application form</li>
                                    <li>Birth certificate</li>
                                    <li>Previous school reports</li>
                                    <li>Transfer letter (if applicable)</li>
                                </ul>
                            </div>
                            <div class="requirement-item">
                                <h5><i class="fas fa-graduation-cap me-2"></i> Secondary School</h5>
                                <ul>
                                    <li>Completed application form</li>
                                    <li>KCPE results slip</li>
                                    <li>Birth certificate</li>
                                    <li>Previous school reports</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Dynamic Sections -->
    {% for section in sections %}
        <section class="py-5 mb-5" style="background-color: {{ section.background_color }}; border-radius: 10px;">
            <div class="container">
                <h2 class="text-center mb-5">{{ section.title }}</h2>

                <div class="row">
                    {% for subsection in section.subsections.all %}
                        <div class="col-md-4 mb-4">
                            <div class="card h-100 shadow-sm" style="background-color: {{ subsection.background_color }};">
                                {% if subsection.image %}
                                    <img src="{{ subsection.image.url }}" class="card-img-top" alt="{{ subsection.title }}">
                                {% endif %}
                                <div class="card-body">
                                    <h5 class="card-title">{{ subsection.title }}</h5>
                                    <div class="card-text">{{ subsection.content|safe }}</div>
                                </div>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </section>
    {% endfor %}

    <!-- Fee Information -->
    <section class="mb-5">
        <div class="card shadow-sm">
            <div class="card-body">
                <h2 class="card-title">Fee Information</h2>
                <p class="card-text">For detailed information about our fee structure, please visit our <a href="{% url 'fees' %}">Fees page</a> or contact the admissions office.</p>
                <a href="{% url 'fees' %}" class="btn btn-primary">View Fee Structure</a>
            </div>
        </div>
    </section>
</div>
{% endblock %}